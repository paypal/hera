package com.paypal.dal.heramockclient;

import com.paypal.dal.parser.QueryParser;
import org.junit.Test;

public class QueryParserTest {
    @Test
    public void testBasicRequestRead() throws Exception{
        QueryParser queryParser = new QueryParser();
        String sql = "SELECT /* BulkProviderDAOMap.LOAD_BULK_SEQUENCE.-2 */ A.dbid , ppid_64_seq.NEXTVAL FROM ID_DBID A, WMULTIPLE_SEQ_VALUES_ANCHOR WHERE ROWNUM<= :p1";
        String mock = "HERAMOCK_OBJECT_MOCK_META DBID_START_HERA_MOCK 6:3 DBID,3:3 2,3:3 0,3:3 0,5:3 129,DBID_END_HERA_MOCK NEXT_VAL_START_HERA_MOCK 10:3 NEXT_VAL,3:3 2,3:3 0,3:3 0,5:3 129,NEXT_VAL_END_HERA_MOCK ROW_NUM_START_HERA_MOCK 9:3 ROW_NUM,3:3 2,3:3 0,3:3 0,5:3 129,ROW_NUM_END_HERA_MOCK SEQ_ID_START_HERA_MOCK 8:3 SEQ_ID,3:3 2,3:3 0,3:3 0,5:3 129,SEQ_ID_END_HERA_MOCK  NEXT_NEWSTRING DBID_START_HERA_MOCK 100 DBID_END_HERA_MOCK NEXT_VAL_START_HERA_MOCK 101 NEXT_VAL_END_HERA_MOCK ROW_NUM_START_HERA_MOCK 103 ROW_NUM_END_HERA_MOCK SEQ_ID_START_HERA_MOCK 102 SEQ_ID_END_HERA_MOCK  NEXT_NEWSTRING ,";
        System.out.println(QueryParser.getMockRowsForQuery(sql, mock, false));
        sql = "SELECT /* BulkProviderDAOMap.LOAD_BULK_SEQUENCE.-2 */ A.dbid , ppid_64_seq.NEXTVAL FROM ID_DBID A, WMULTIPLE_SEQ_VALUES_ANCHOR WHERE ROWNUM<= :p1";
        mock = "HERAMOCK_OBJECT_MOCK_META DBID_START_HERA_MOCK 6:3 DBID,3:3 2,3:3 0,3:3 0,5:3 129,DBID_END_HERA_MOCK NEXT_VAL_START_HERA_MOCK 10:3 NEXT_VAL,3:3 2,3:3 0,3:3 0,5:3 129,NEXT_VAL_END_HERA_MOCK ROW_NUM_START_HERA_MOCK 9:3 ROW_NUM,3:3 2,3:3 0,3:3 0,5:3 129,ROW_NUM_END_HERA_MOCK SEQ_ID_START_HERA_MOCK 8:3 SEQ_ID,3:3 2,3:3 0,3:3 0,5:3 129,SEQ_ID_END_HERA_MOCK  NEXT_NEWSTRING DBID_START_HERA_MOCK 100 DBID_END_HERA_MOCK NEXT_VAL_START_HERA_MOCK 101 NEXT_VAL_END_HERA_MOCK ROW_NUM_START_HERA_MOCK 103 ROW_NUM_END_HERA_MOCK SEQ_ID_START_HERA_MOCK 102 SEQ_ID_END_HERA_MOCK  NEXT_NEWSTRING ,";
        System.out.println(QueryParser.getMockMetaForQuery(sql, mock));
    }

}
