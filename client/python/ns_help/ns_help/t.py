
import _ns_help


def do_test(a_string):
    try:
        print ("{{{0}}}: {{{1}}}".format(a_string, _ns_help.get_netstrings(a_string)))
    except Exception as e:
        print ("Got exception", repr(e))


_TEST_STRINGS = ["hi", "", "0:,", "4:9 Hi,", "5:9 df,", "3:9 aa,",
                 "4:9 Hi,4:9 Ok,",
                 "8:3 340653,21:3 1156985073010225917,3:3 0,3:3 O,22:3 "
                 "866 West 39th Street,28:3 6646 Byrd Industrial Drive,11:3 Princeton,4:3 NJ,7:3 08543,4:3 US,1:6,",
                 """8:3 118040,3:3 L,60:3 Inbound file registered as expected by scripting interface,12:3 1284532945,6:3 1182,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100914_star_bin_file_1_test.txt,1:3,3:3 0,12:3 1284447600,8:3 118040,3:3 L,75:3 FPSM Manager updates Filename and External Filename with advanced tokens.,12:3 1284532945,6:3 1182,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100914_star_bin_file_1_test.txt,1:3,3:3 0,12:3 1284447600,8:3 118047,3:3 L,60:3 Inbound file registered as expected by scripting interface,12:3 1284539513,6:3 1206,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100915_star_bin_file_3_test.txt,1:3,3:3 3,12:3 1284534000,8:3 118047,3:3 L,75:3 FPSM Manager updates Filename and External Filename with advanced tokens.,12:3 1284539513,6:3 1206,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100915_star_bin_file_3_test.txt,1:3,3:3 3,12:3 1284534000,8:3 118047,3:3 H,29:3 GenericLoader file loading.,12:3 1284539540,6:3 1206,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100915_star_bin_file_3_test.txt,1:3,3:3 3,12:3 1284534000,8:3 118047,3:3 H,36:3 Meta data updated by FPSM manager.,12:3 1284539541,6:3 1206,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100915_star_bin_file_3_test.txt,1:3,3:3 3,12:3 1284534000,8:3 118047,3:3 F,29:3 GenericLoader file loading.,12:3 1284539541,6:3 1206,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100915_star_bin_file_3_test.txt,1:3,3:3 3,12:3 1284534000,8:3 118047,3:3 T,42:3 Processed by platform service framework.,12:3 1284539523,6:3 1206,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100915_star_bin_file_3_test.txt,1:3,3:3 3,12:3 1284534000,8:3 118047,3:3 E,42:3 Processed by platform service framework.,12:3 1284539523,6:3 1206,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100915_star_bin_file_3_test.txt,1:3,3:3 3,12:3 1284534000,8:3 118050,3:3 L,60:3 Inbound file registered as expected by scripting interface,12:3 1284540093,6:3 1222,1:3,1:3,1:3,3:3 ?,5:3 426,44:3 p20100915_star_ewallet_bin_file_4_test.txt,1:3,3:3 0,12:3 1284534000,8:3 118050,3:3 L,75:3 FPSM Manager updates Filename and External Filename with advanced tokens.,12:3 1284540093,6:3 1222,1:3,1:3,1:3,3:3 ?,5:3 426,44:3 p20100915_star_ewallet_bin_file_4_test.txt,1:3,3:3 0,12:3 1284534000,8:3 118050,3:3 E,6:3 test,12:3 1284540188,6:3 1222,1:3,1:3,1:3,3:3 ?,5:3 426,44:3 p20100915_star_ewallet_bin_file_4_test.txt,1:3,3:3 0,12:3 1284534000,8:3 118051,3:3 L,60:3 Inbound file registered as expected by scripting interface,12:3 1284720562,6:3 1229,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100917_star_bin_file_1_test.txt,1:3,3:3 0,12:3 1284706800,8:3 118051,3:3 L,75:3 FPSM Manager updates Filename and External Filename with advanced tokens.,12:3 1284720563,6:3 1229,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100917_star_bin_file_1_test.txt,1:3,3:3 0,12:3 1284706800,8:3 118051,3:3 M,6:3 test,12:3 1284720783,6:3 1229,1:3,1:3,1:3,3:3 ?,5:3 422,36:3 p20100917_star_bin_file_1_test.txt,1:3,3:3 0,12:3 1284706800,8:3 118422,3:3 L,60:3 Inbound file registered as expected by scripting interface,12:3 1308962363,6:3 2559,1:3,1:3,1:3,3:3 F,1:3,26:3 20110624_eft_input_2.txt,1:3,3:3 1,12:3 1308962331,8:3 118422,3:3 L,75:3 FPSM Manager updates Filename and External Filename with advanced tokens.,12:3 1308962363,6:3 2559,1:3,1:3,1:3,3:3 F,1:3,26:3 20110624_eft_input_2.txt,1:3,3:3 1,12:3 1308962331,8:3 118422,3:3 E,61:3 Inbound file registered as received by scripting interface.,12:3 1308962380,6:3 2559,1:3,1:3,1:3,3:3 F,1:3,26:3 20110624_eft_input_2.txt,1:3,3:3 1,12:3 1308962331,8:3 118422,3:3 H,29:3 GenericLoader file loading.,12:3 1308962425,6:3 2559,1:3,1:3,1:3,3:3 F,1:3,26:3 20110624_eft_input_2.txt,1:3,3:3 1,12:3 1308962331,8:3 118422,3:3 H,21:3 Update record count,12:3 1308962426,6:3 2559,1:3,1:3,1:3,3:3 F,1:3,26:3 20110624_eft_input_2.txt,1:3,3:3 1,12:3 1308962331,"""]

for l in _TEST_STRINGS:
    do_test(l)
